(this["webpackJsonpterminal-react"]=this["webpackJsonpterminal-react"]||[]).push([[0],{389:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(1),a=n(45),o=n.n(a),s=(n(55),n(6)),c=n(7),l=n(13),u=n(12),h=n(11),f=n.n(h),d=n(19),p=n(2),v=n(8),m=n(49),g=n.n(m),y=n(21),b=n.n(y),j=n(22),k=n.n(j),O=n(23),w=n.n(O),P=n(24),x="3.0.0",C="PseudoFileSystem",F=".",D="..",S="~",_="TERMINAL_IN_REACT_PSEUDO_FILESYSTEM",I="dir",L="file",T="dir",B="file",E=["home","user"];function z(e,t){return"undefined"!==typeof e[t]}function V(){var e,t,n,r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";function f(e){var t=Object(p.a)(e.parts);return e.isDir&&t.push(""),e.isRoot&&t.unshift(""),t.join(o)}var m=(e=Object(v.b)(b()(500)),Object(v.a)((a=r=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e,i){var r;Object(s.a)(this,n),(r=t.call(this,e,i)).commands={cd:r.enterDir(),ls:r.listDirContents(),rm:r.removeFromFileSystemCommand(),mkdir:r.createDirCommand(),touch:r.createFileCommand(),cat:r.runCat(),echo:r.runEcho()},r.descriptions={cd:!1,ls:!1,rm:!1,mkdir:!1,touch:!1,cat:!1,echo:!1},r.getPublicMethods=function(){return{parsePath:r.parsePath,isValidPath:function(e,t){return t(r.isValidPath(e))},createDir:r.createDir,createFile:r.createFile,removeDir:r.remove,removeFile:r.remove,readDir:function(e,t){return t(r.getContents(e,!0))},readFile:function(e,t){var n=r.getContents(e);t(null!==n&&"object"===typeof n?n.contents:n)},writeFile:r.writeToFile,pathToString:f,types:{dir:T,file:B}}},r.currentPath="";var a=["".concat(o).concat(E.join(o)).concat(o)];return setTimeout((function(){r.enterDir().method({_:a})})),r}return Object(c.a)(n,[{key:"doParse",value:function(e,t){var n=!1,i=!1,r=[F,D,S].indexOf(e[0])>-1;(""===e[e.length-1]||1===e.length&&r)&&(n=!0),""===e[0]&&(i=!0);var a=e.filter((function(e){return 0!==e.length}));i||(a[0]===F?a=[].concat(Object(p.a)(t.parts),Object(p.a)(a.slice(1))):a[0]===S?a=[].concat(E,Object(p.a)(a.slice(1))):a[0]===D&&(a=[].concat(Object(p.a)(t.parts),Object(p.a)(a)))),r&&(i=!0);for(var o=0;o<a.length;o+=1)a[o]===F?a[o]="":a[o]===D&&(o-1>=0&&(a[o-1]=""),a[o]="");return{parts:a=a.filter((function(e){return 0!==e.length})),isRoot:i,isDir:n}}},{key:"parsePath",value:function(e){var t=e.split(o);return["",F,D,S].indexOf(t[0])<0&&t.unshift("."),this.doParse(t,this.currentPath)}},{key:"isValidPath",value:function(e){for(var t=e.parts,n=this.api.getData(),i=0;i<t.length;i+=1){if(!z(n.contents,t[i]))return this.api.printLine("Not a valid path: ".concat(f(e))),!1;n=n.contents[t[i]]}return!0}},{key:"getContents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.parts;if(this.isValidPath(e)){for(var i=this.api.getData(),r=0;r<n.length;r+=1)z(i.contents,n[r])&&(i=i.contents[n[r]]);return t&&"string"!==typeof i?[".",".."].concat(Object(p.a)(Object.keys(i))):i}return null}},{key:"addToFileSystem",value:function(e,t){var n=e.parts,i=["contents"].concat(Object(p.a)(n.join("\u03a9\u2026\u03a9contents\u03a9\u2026\u03a9").split("\u03a9\u2026\u03a9")));this.api.setData(g()(this.api.getData(),i,t))}},{key:"enterDir",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(t._.join(" "));e.isValidPath(n)&&(e.currentPath=n,e.api.setPromptPrefix("".concat(f(e.currentPath)," ")))}}}}},{key:"createDirCommand",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(t._[0]);e.createDir(n)}}}}},{key:"createDir",value:function(e){var t=e.parts.slice(0,e.parts.length-2),n=e.parts[e.parts.length-1],i=this.getContents({parts:t});null!==i&&(z(i.contents,n)||this.addToFileSystem(e,{name:n,type:T,contents:{}}))}},{key:"createFileCommand",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(t._[0]);e.createFile(n)}}}}},{key:"createFile",value:function(e){var t=e.parts.slice(0,e.parts.length-2);if(this.isValidPath({parts:t})){var n=e.parts[e.parts.length-1],i=this.getContents({parts:t});null!==i&&(z(i.contents,n)||this.addToFileSystem(e,{name:n,type:B,contents:""}))}}},{key:"remove",value:function(e){var t=this.getContents(e);null!==t&&"undefined"!==typeof t&&this.addToFileSystem(e,void 0)}},{key:"removeFromFileSystemCommand",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(t._.join(" ")),i=e.getContents(n);null!==i&&(i.type===T&&Object.keys(i.contents).length>0&&!t.recursive?e.api.printLine("".concat(f(n)," is not empty")):e.addToFileSystem(n,void 0))}},options:[{name:"recursive",description:"Each item in the folder as well",defaultValue:!1},{name:"force",description:"Force the delete",defaultValue:!1}]}}},{key:"runCat",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=t._;t._.indexOf(">>")>0&&(n=t._.join(" ").split(">>"));var r=e.parsePath(n[0].trim()),a=e.getContents(r);if(null!==a&&a.type===B)if(t._.indexOf(">>")>0){var o=e.parsePath(n[1].trim());e.writeToFile(o,a.contents,{flag:"a"})}else{var s=a.name.split("."),c=k.a.languages(s[s.length-1])[0];e.api.printLine(Object(i.jsx)(w.a,{language:c,style:P[c],children:a.contents}))}}}}}},{key:"runEcho",value:function(){var e=this;return{method:function(t){if(t._.length>0)if(t._.indexOf(">>")>-1){var n=t._.join(" ").split(" >> "),i=e.parsePath(n[1]);e.writeToFile(i,n[0],{flag:"a"})}else if(t._.indexOf(">")>-1){var r=t._.join(" ").split(" > "),a=e.parsePath(r[1]);e.writeToFile(a,r[0],{flag:"w"})}else e.api.printLine(t._.join(" "))}}}},{key:"writeToFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{flag:"w"};if(this.isValidPath(e)){var i=this.getContents(e);null!==i&&i.type===B&&("w"===n.flag?i.contents="".concat(t):"a"===n.flag&&(i.contents+="\n".concat(t)),this.addToFileSystem(e,i))}}},{key:"listDirContents",value:function(){var e=this;return{method:function(t){var n=e.parsePath(t._[0]||".");if(n.isDir){var r=e.getContents(n);if(null!==r){var a=[{name:".",type:T},{name:"..",type:T}].concat(Object(p.a)(Object.values(r.contents)));e.api.printLine(Object(i.jsx)("span",{children:a.filter((function(e){return"undefined"!==typeof e})).map((function(e){var t={color:"#bdc3c7",marginRight:5,width:"calc(33% - 5px)",display:"inline-block"};return a.length>3&&(t.marginBottom=5),e.type===T&&(t.color="#2980b9"),Object(i.jsx)("span",{style:t,title:e.type.toUpperCase(),children:e.name},"".concat(e.name,"-").concat(e.type))}))}))}}}}}}]),n}(h.PluginBase),r.displayName=C,r.version=x,r.defaultData={name:o,type:T,contents:{home:{name:"home",type:T,contents:{user:{name:"user",type:T,contents:{}}}}}},n=a,Object(d.a)(n.prototype,"doParse",[e],Object.getOwnPropertyDescriptor(n.prototype,"doParse"),n.prototype),t=n))||t);return m}var R=n(4),N=n.n(R),A=n(9),W=n(25),q=n(33),M=n.n(q);var U=function(e,t){t&&M.a.delete(_);var n=function(e){var t,n,i,r,a=new M.a(_);a.version(1).stores({folders:"++id,&[id+path],folderId,fullPath",files:"++id,&[folderId+filename],filename,extension,folderId,fullPath",superBlock:"++id,blockSize,blocksTotal,fileSysSize,inodeListSize,freeBlocks,freeInodes",inodesList:"++id,type,owner,dateTime,size"});var o=Object(v.a)(t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1048576,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8192,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1012,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8192;Object(s.a)(this,e),this.blockSize=t,this.blocksTotal=n,this.fileSysSize=i,this.inodeListSize=r,this.freeBlocks=a,this.freeInodes=o}return Object(c.a)(e,[{key:"save",value:function(){return a.superBlock.put(this)}}]),e}())||t,l=Object(v.a)(n=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64;Object(s.a)(this,e),this.type=t,this.owner=n,this.dateTime=i,this.size=r}return Object(c.a)(e,[{key:"save",value:function(){return a.inodesList.put(this)}}]),e}())||n,u=Object(v.a)(i=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fullPath:""},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(s.a)(this,t),this.path=n,this.fullPath=i.fullPath+n+e,this.folderId=i.id,this.type=I,this.isBase=r,this.inodeID=a}return Object(c.a)(t,[{key:"save",value:function(){return a.folders.put(this)}}]),t}())||i,h=Object(v.a)(r=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(s.a)(this,e),this.fullPath="".concat(i.fullPath+t,".").concat(n),this.filename=t,this.extention=n,this.folderId=i.id,this.content=r,this.type=L,this.inodeID=a}return Object(c.a)(e,[{key:"setContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.content=e,this.save()}},{key:"getFullName",value:function(){return(this.filename||"")+(this.extention?".":"")+(this.extention||"")}},{key:"save",value:function(){return a.files.put(this)}}]),e}())||r;return a.folders.mapToClass(u),a.files.mapToClass(h),a.superBlock.mapToClass(o),a.inodesList.mapToClass(l),[a,u,h,o,l]}(e),i=Object(W.a)(n,5),r=i[0],a=i[1],o=i[2],l=i[3],u=i[4];return r.superBlock.count(function(){var t=Object(A.a)(N.a.mark((function t(n){var i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n){t.next=13;break}return t.next=3,r.superBlock.add(new l);case 3:if(!t.sent){t.next=13;break}return t.next=7,r.inodesList.add(new u(I));case 7:if(!(i=t.sent)){t.next=12;break}return t.next=11,r.folders.add(new a("",{fullPath:""},!0,i));case 11:i=0;case 12:r.folders.toCollection().first().then(function(){var t=Object(A.a)(N.a.mark((function t(n){var i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.inodesList.add(new u(I));case 2:if(!(i=t.sent)){t.next=7;break}return t.next=6,r.folders.add(new a("home",n,!1,i));case 6:i=0;case 7:return t.next=9,r.inodesList.add(new u(I));case 9:if(!(i=t.sent)){t.next=13;break}return t.next=13,r.folders.add(new a("user",{fullPath:"".concat(n.fullPath,"home").concat(e),id:n.id+1},!1,i)).then((function(e){var t=1024*e+48;r.superBlock.update(1,{blockSize:t,freeInodes:8168})}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),[r,a,o,l,u]},G=["","home","user"];function J(e){return e[e.length-1]}function Y(e){var t=e.length;return t-1<=0?{parts:[],isRoot:!0,isDir:!0}:{parts:e.slice(0,t-1),isRoot:!0,isDir:!0}}function $(){var e,t,n,a,o,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=U(f,m),y=Object(W.a)(g,5),j=y[0],O=y[1],_=y[2],T=(y[3],y[4]);function B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e._.join(" ").trim();return t&&J(n)!==f?n+=f:t||J(n)!==f||(n=n.slice(0,n.length-1)),n}function E(e){var t=Object(p.a)(e.parts);return e.isDir&&t.push(""),e.isRoot&&t.unshift(""),t.join(f)}function z(e,t){j.folders.where("fullPath").equals(e.fullPath+t+f).count((function(n){0===n&&j.inodesList.add(new T(I)).then((function(n){j.folders.add(new O(t,e,!1,n)).then((function(e){j.superBlock.get(1).then((function(e){var t=e.blockSize+1024+16,n=e.freeInodes-8;j.superBlock.update(1,{blockSize:t,freeInodes:n})}))}))}))}))}function V(e,t,n){var i=t.split("."),r=J(i),a=i.slice(0,i.length-1).join(".");j.files.where("fullPath").equals(e.fullPath+t).first((function(t){"undefined"===typeof t?j.inodesList.add(new T(L)).then((function(t){j.files.add(new _(a,r,e,n,t)).then((function(e){j.superBlock.get(1).then((function(e){var t=e.blockSize+1024+16,n=e.freeInodes-8;j.superBlock.update(1,{blockSize:t,freeInodes:n})}))}))})):t.setContents(n)}))}function R(e,t){var n=E(e);j.folders.where("fullPath").equals(n).first(t)}function q(e,t){var n=E(e);j.files.where("fullPath").equals(n).first(t)}function M(e,t){var n=e.parts,i=e.isDir;n.length>0&&R(Y(n),(function(e){i?z(e,J(n)):V(e,J(n),t)}))}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.isDir?R(e,(function(e){if("undefined"===typeof e)t(null);else if(n){Object(A.a)(N.a.mark((function n(){var i,r,a,o;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.folders.where("folderId").equals(e.id).toArray((function(e){return e}));case 2:return i=n.sent,n.next=5,j.files.where("folderId").equals(e.id).toArray((function(e){return e}));case 5:return r=n.sent,n.next=8,Promise.all(i.map(function(){var e=Object(A.a)(N.a.mark((function e(t){var n,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.inodeID)){e.next=6;break}return e.next=4,j.inodesList.where("id").equals(n).first((function(e){return e}));case 4:return i=e.sent,e.abrupt("return",{item:t,ino:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return a=n.sent,n.next=11,Promise.all(r.map(function(){var e=Object(A.a)(N.a.mark((function e(t){var n,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.inodeID)){e.next=6;break}return e.next=4,j.inodesList.where("id").equals(n).first((function(e){return e}));case 4:return i=e.sent,e.abrupt("return",{item:t,ino:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:o=n.sent,t([].concat(Object(p.a)(a),Object(p.a)(o)));case 13:case"end":return n.stop()}}),n)})))()}else t(e)})):q(e,(function(e){t("undefined"===typeof e?null:n?e.content:e)}))}function K(e){$(e,(function(t){null!==t&&(e.isDir?t.isBase||j.folders.delete(t.id):j.files.delete(t.id))}))}var Z=(e=Object(v.b)(b()(500)),Object(v.a)((o=a=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e,i){var r;Object(s.a)(this,n),(r=t.call(this,e,i)).commands={cd:r.enterDir(),ls:r.listAllDirContents(),freeInodes:r.freeInodesCommand(),superblock:r.superBlockCommand(),rm:r.removeFromFileSystemCommand(),mkdir:r.createDirCommand(),touch:r.createFileCommand(),cat:r.runCat(),echo:r.runEcho()},r.descriptions={cd:"Change directory",ls:"List all information of current directory",freeInodes:"Get total free inodes",superblock:"Get superblock information",lsAll:!1,rm:"Remove a file or directory",mkdir:"Make directory",touch:"Create a file",cat:!1,echo:!1},r.getPublicMethods=function(){return{parsePath:r.parsePath,isValidPath:r.isValidPath,createDir:r.createDir,createFile:r.createFile,removeDir:r.remove,removeFile:r.remove,readDir:function(e,t){return r.getContents(e,t,I,!0)},readFile:function(e,t){return r.getContents(e,t,L,!0)},writeFile:r.writeToFile,pathToString:E,types:{dir:I,file:L}}},r.currentPath="",window.commands=r.getPublicMethods,window.pathFromArgs=B,window.getContents=$;var a=["".concat(f).concat(G.join(f)).concat(f)];return r.enterDir().method({_:a}),r}return Object(c.a)(n,[{key:"doParse",value:function(e,t){var n=!1,i=!1,r=[F,D,S].indexOf(e[0])>-1;(""===e[e.length-1]||1===e.length&&r)&&(n=!0),""===e[0]&&(i=!0);var a=e.filter((function(e){return 0!==e.length}));i||(a[0]===F?a=[].concat(Object(p.a)(t.parts),Object(p.a)(a.slice(1))):a[0]===S?a=[].concat(G,Object(p.a)(a.slice(1))):a[0]===D&&(a=[].concat(Object(p.a)(t.parts),Object(p.a)(a)))),r&&(i=!0);for(var o=0;o<a.length;o+=1)a[o]===F?a[o]="":a[o]===D&&(o-1>=0&&(a[o-1]=""),a[o]="");return{parts:a=a.filter((function(e){return 0!==e.length})),isRoot:i,isDir:n}}},{key:"parsePath",value:function(e){var t=e.split(f);return["",F,D,S].indexOf(t[0])<0&&t.unshift("."),this.doParse(t,this.currentPath)}},{key:"isValidPath",value:function(e,t){var n=function(e){t(!0)};e.isDir?R(e,n):q(e,n)}},{key:"getContents",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n===I&&e.isDir||n===L&&!e.isDir?this.isValidPath(e,(function(n){n?$(e,t,i):t(null)})):t(null)}},{key:"enterDir",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(B(t,!0));e.isValidPath(n,(function(t){t&&(e.currentPath=n,e.api.setPromptSymbol("$"),e.api.setPromptPrefix("".concat(E(e.currentPath)," ")))}))}}}}},{key:"getFreeInodesContent",value:function(e){j.superBlock.get(1).then((function(t){var n=t.freeInodes,i=t.inodeListSize;e({freeInodes:n,inodeListSize:i})}))}},{key:"freeInodesCommand",value:function(){var e=this;return{method:function(t){e.api.printLine(Object(i.jsx)("span",{children:"FREE INODES                     SIZE INODE LIST"})),e.getFreeInodesContent((function(t){var n=t.freeInodes,r=t.inodeListSize;e.api.printLine(Object(i.jsx)("span",{children:Object(i.jsx)("span",{children:"    ".concat(n,"                                ").concat(r)})}))}))}}}},{key:"getSuperBlockContent",value:function(e){j.superBlock.get(1).then((function(t){e(t)}))}},{key:"superBlockCommand",value:function(){var e=this;return{method:function(t){e.api.printLine(Object(i.jsx)("span",{style:{marginBottom:15},children:"SUPER BLOCK"})),e.getSuperBlockContent((function(t){var n=t.blockSize,a=t.fileSysSize,o=t.freeBlocks,s=t.freeInodes,c=t.inodeListSize,l={width:"calc(50% - 5px)",display:"inline-block"},u={marginBottom:5,display:"block"};e.api.printLine(Object(i.jsxs)(r.Fragment,{children:[Object(i.jsxs)("span",{style:u,children:[Object(i.jsx)("span",{style:l,children:"Block size"}),Object(i.jsx)("span",{style:l,children:n})]}),Object(i.jsxs)("span",{style:u,children:[Object(i.jsx)("span",{style:l,children:"FileSystem Size"}),Object(i.jsx)("span",{style:l,children:a})]}),Object(i.jsxs)("span",{style:u,children:[Object(i.jsx)("span",{style:l,children:"Inode List Size"}),Object(i.jsx)("span",{style:l,children:c})]}),Object(i.jsxs)("span",{style:u,children:[Object(i.jsx)("span",{style:l,children:"Free blocks"}),Object(i.jsx)("span",{style:l,children:o})]}),Object(i.jsxs)("span",{style:u,children:[Object(i.jsx)("span",{style:l,children:"Free inodes"}),Object(i.jsx)("span",{style:l,children:s})]})]}))}))}}}},{key:"createDirCommand",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(B(t,!0));e.createDir(n)}}}}},{key:"createDir",value:function(e){this.isValidPath(Y(e.parts),(function(t){t&&M(e)}))}},{key:"createFileCommand",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(B(t));e.createFile(n)}}}}},{key:"createFile",value:function(e){this.isValidPath(Y(e.parts),(function(t){t&&M(e,"")}))}},{key:"remove",value:function(e){this.validPath(e,(function(t){t&&K(e)}))}},{key:"removeFromFileSystemCommand",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=e.parsePath(t._.join(" ").trim());e.validPath(n,(function(i){i&&n.isDir&&e.getContents(n,(function(i){(i.length>0&&!t.recursive||i.length>0&&!t.force)&&e.api.printLine("".concat(E(n)," is not empty"))}),I,!0)}))}},options:[{name:"recursive",description:"Each item in the folder as well",defaultValue:!1},{name:"force",description:"Force the delete",defaultValue:!1}]}}},{key:"runCat",value:function(){var e=this;return{method:function(t){if(t._.length>0){var n=t._;t._.indexOf(">>")>0&&(n=t._.join(" ").split(">>"));var r=e.parsePath(B({_:n[0].split(" ")}));e.getContents(r,(function(r){if(null!==r)if(t._.indexOf(">>")>0){var a=e.parsePath(B({_:n[1].split(" ")}));e.writeToFile(a,r.content,{flag:"a"})}else{var o=k.a.languages(r.extention||"")[0];e.api.printLine(Object(i.jsx)(w.a,{language:o,style:P[o],children:r.content}))}}),L)}}}}},{key:"runEcho",value:function(){var e=this;return{method:function(t){if(t._.length>0)if(t._.indexOf(">>")>-1){var n=t._.join(" ").split(" >> "),i=e.parsePath(B({_:n[1].split(" ")}));e.writeToFile(i,n[0],{flag:"a"})}else if(t._.indexOf(">")>-1){var r=t._.join(" ").split(" > "),a=e.parsePath(B({_:r[1].split(" ")}));e.writeToFile(a,r[0],{flag:"w"})}else e.api.printLine(t._.join(" "))}}}},{key:"writeToFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{flag:"w"};this.isValidPath(e,(function(r){r&&t.getContents(e,(function(t){if(null!==t){var r=t;"w"===i.flag?r="".concat(n):"a"===i.flag&&(r+="\n".concat(n)),M(e,r)}}),L,!0)}))}},{key:"listDirContents",value:function(){var e=this;return{method:function(t){var n=e.parsePath(B({_:t._.length>0?t._:["."]},!0));n.isDir&&e.getContents(n,(function(t){if(null!==t){var n=[{path:".",type:I},{path:"..",type:I}].concat(Object(p.a)(t));e.api.printLine(Object(i.jsx)("span",{children:n.map((function(e){var t={color:"#bdc3c7",marginRight:5,width:"calc(33% - 5px)",display:"inline-block"};return n.length>3&&(t.marginBottom=5),e.type===I&&(t.color="#2980b9"),Object(i.jsx)("span",{style:t,title:e.type.toUpperCase(),children:e.type===I?e.path:e.getFullName()},"".concat(e.fullPath,"-").concat(e.type))}))}))}}),I,!0)}}}},{key:"listAllDirContents",value:function(){var e=this;return{method:function(t){var n=e.parsePath(B({_:t._.length>0?t._:["."]},!0));n.isDir&&e.getContents(n,function(){var t=Object(A.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==n&&(a=n,e.api.printLine(Object(i.jsxs)(r.Fragment,{children:[a.length>0&&Object(i.jsx)("span",{children:"INODE      OWNER      TYPE        NAME"}),Object(i.jsx)("span",{children:a.map((function(e){var t=e.item,n=t.path,r=t.fullPath,o=e.ino,s=o.owner,c=o.type,l=o.id,u={color:"#bdc3c7",marginRight:5,width:"calc(100% - 5px)",display:"block"};return a.length>3&&(u.marginBottom=5),c===I&&(u.color="#2980b9"),1,Object(i.jsx)("span",{style:u,title:c.toUpperCase(),children:c===I?"".concat(l,"          ").concat(s,"       ").concat(c,"         ").concat(n):"".concat(l,"          ").concat(s,"       ").concat(c,"        ").concat(e.item.getFullName())},"".concat(r,"-").concat(c))}))})]})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I,!0)}}}}]),n}(h.PluginBase),a.displayName=C,a.version=x,n=o,Object(d.a)(n.prototype,"doParse",[e],Object.getOwnPropertyDescriptor(n.prototype,"doParse"),n.prototype),t=n))||t);return Z}function K(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"basic",n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if("basic"===t)return V.apply(void 0,[e].concat(i));if("db"===t)return $.apply(void 0,[e].concat(i));throw new Error('The type "'.concat(t,'" is not an available storage type'))}var Z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(i.jsx)(f.a,{plugins:[new K("/","db")],prompt:"white",startState:"maximised",allowTabs:!1,color:"white",backgroundColor:"black",barColor:"black",style:{fontWeight:"bold",fontSize:"1em"},descriptions:{},closedTitle:"\xa1Oh, oh! Cerraste la terminal",closedMessage:"Da clic en el icono para volverla a abrir",msg:"Escribe help para que veas los comandos disponibles"})})}}]),n}(r.Component),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,390)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};o.a.render(Object(i.jsx)(Z,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Q(t,e)}))}}(),X()},55:function(e,t,n){}},[[389,1,2]]]);
//# sourceMappingURL=main.0fc82a8c.chunk.js.map